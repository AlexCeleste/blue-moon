
TODO:

- code buffer allocation needs to be completed
- gc needs to be implemented
  - allocator needs to be tidied up
  - remaining object layouts need to be specified and stuck to
- need to be able to create and fill out Lua objects/values from native
  - load native objects as Lua objects
  - add type checks
- native calls need to be implemented
- metamethod lookup needs to be implemented
- operators and instructions need to be filled out
- standard library needs to be written
- coroutines need to be designed and implemented


WISHLIST:

- general code cleanup (esp. in JIT)
- replace conv() calls with something faster

- remove table init size limit (by flattening stack)
- avoid copy on function call
- remove limit on return values
- remove limit on local/temp variables
- remove stack effect of condition in if/while
- preallocate array/hash areas for immediate tables
- faster table query with inline caching on field accesses
- reseat native stack to use native calls for opc.CALL

- inline more operations
- implement some operations in assembly and import

- string interning?
